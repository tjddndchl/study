<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/nameList.css">
</head>
<body>
    <div id="container">
        <h1>참가 신청서</h1>
        <form id="myForm" action="#">
            <input type="text" id="username" placeholder="이름을 입력하세요" required >
            <button type="button" onclick="fn_register()">신청</button>
        </form>
        <hr>
        <div id="nameList"></div>
        
        <script>
            document.getElementById('myForm').addEventListener('keypress',function(e){
                if(e.key=='Enter'){
                    //e.preventDefault();//디폴트행동취소
                    fn_register();
                }
            })
            function fn_register(){
                let username = document.getElementById("username");
                
                //p태그 생성
                let newP = document.createElement('p');
                //x버튼의 속성 class 의 값을 del 하면 css가 적용됨
                let btn =document.createElement('span');
                btn.setAttribute("class","del");
                btn.innerHTML ='x';
                btn.onclick=function(){
                console.log(this.parentElement);
                console.log(this.parentElement.parentElement);
                let body = this.parentElement.parentElement;
                let parent_div = this.parentElement;
                body.removeChild(parent_div);
                }
                newP.innerHTML = username.value;
                newP.appendChild(btn);
                username.value = '';//input창에 있는 값 제거
                let nameList =document.getElementById('nameList');
                //하위요소의 첫번째에 적용
                nameList.insertBefore(newP, nameList.childNodes[0]);

            }
        </script>
    </div>
</body>
</html>